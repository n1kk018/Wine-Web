<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                template="/WEB-INF/templates/commons.xhtml">
    <ui:define name="body">
      
        <form jsf:id="form1">
            <div id="content">
                <div class="container">

                    <div class="col-md-12">
                        <ul class="breadcrumb">
                            <li><a href="#">Accueil</a></li>
                            <li>Mon panier</li>
                        </ul>
                    </div>
                    <div class="col-md-9" id="basket">
                        <div class="box">
                            <h1>Mon panier</h1>
                            <h:panelGroup rendered="#{mBeanCartManagement.order.ordersDetail != null}">
                            <p class="text-muted">Votre panier contient
                                <h:outputText id="txtTotalQuantity" value="#{mBeanCartManagement.numTotalQantity()}"/>
                                 produits.</p>-->
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th colspan="2">Produit</th>
                                            <th>Quantite</th>
                                            <th>Prix Unitaire </th>
                                            <th>Reduction</th>
                                            <th colspan="2">Totale</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <h:panelGroup id="myPanel">
                                            <ui:repeat value="#{mBeanCartManagement.order.ordersDetail.toArray}"
                                                       var="orderDetail">
                                                <tr>
                                                    <td>#{orderDetail.productOrdered.name}</td>
                                                    <td>#{orderDetail.quantite}</td>
                                                    <td>#{orderDetail.productOrdered.price} €</td>
                                                    <td>#{mBeanCartManagement.calculDiscount(orderDetail)} €</td>
                                                    <td>#{mBeanCartManagement.calculTotalLine(orderDetail)} €</td>
                                                    <td><h:commandLink
                                                            action="#{mBeanCartManagement.removeProductCart(orderDetail)}">
                                                            <i class="fa fa-trash-o"></i>
                                                        </h:commandLink></td>
                                                </tr>
                                            </ui:repeat>
                                        </h:panelGroup>
                                    </tbody>
                                </table>
                            </div>
                            <!-- /.table-responsive -->

                            <!-- panel empty -->
                            <h:panelGroup>
                                <h3>Votre panier est vide pour le moment.</h3>
                            </h:panelGroup>
                            
                            
                            <div class="box-footer">
                                <div class="pull-left">
                                    <a href="pages/category.jsf" class="btn btn-default"><i
                                            class="fa fa-chevron-left"></i> Continue shopping</a>
                                </div>
                                <div class="pull-right">
                                    <button class="btn btn-default">
                                        <i class="fa fa-refresh"></i> Update basket
                                    </button>
                                    <button type="submit" class="btn btn-primary">
                                        Proceed to checkout <i class="fa fa-chevron-right"></i>
                                    </button>
                                </div>
                            </div>
                            </h:panelGroup>
                        </div>
                        <!-- /.box -->


                        <div class="row same-height-row">
                            <div class="col-md-3 col-sm-6">
                                <div class="box same-height">
                                    <h3>You may also like these products</h3>
                                </div>
                            </div>

                            <div class="col-md-3 col-sm-6">
                                <div class="product same-height">
                                    <div class="flip-container">
                                        <div class="flipper">
                                            <div class="front">
                                                <a href="detail.html"> <img src="../img/product2.jpg"
                                                                            alt="" class="img-responsive" /></a>
                                            </div>
                                            <div class="back">
                                                <a href="detail.html"> <img src="../img/product2_2.jpg"
                                                                            alt="" class="img-responsive" /></a>
                                            </div>
                                        </div>
                                    </div>
                                    <a href="detail.html" class="invisible"> <img
                                            src="../img/product2.jpg" alt="" class="img-responsive" /></a>
                                    <div class="text">
                                        <h3>Fur coat</h3>
                                        <p class="price">$143</p>
                                    </div>
                                </div>
                                <!-- /.product -->
                            </div>

                            <div class="col-md-3 col-sm-6">
                                <div class="product same-height">
                                    <div class="flip-container">
                                        <div class="flipper">
                                            <div class="front">
                                                <a href="detail.html"> <img src="../img/product1.jpg"
                                                                            alt="" class="img-responsive" /></a>
                                            </div>
                                            <div class="back">
                                                <a href="detail.html"> <img src="../img/product1_2.jpg"
                                                                            alt="" class="img-responsive" /></a>
                                            </div>
                                        </div>
                                    </div>
                                    <a href="detail.html" class="invisible"> <img
                                            src="../img/product1.jpg" alt="" class="img-responsive" /></a>
                                    <div class="text">
                                        <h3>Fur coat</h3>
                                        <p class="price">$143</p>
                                    </div>
                                </div>
                                <!-- /.product -->
                            </div>


                            <div class="col-md-3 col-sm-6">
                                <div class="product same-height">
                                    <div class="flip-container">
                                        <div class="flipper">
                                            <div class="front">
                                                <a href="detail.html"> <img src="../img/product3.jpg"
                                                                            alt="" class="img-responsive" /></a>
                                            </div>
                                            <div class="back">
                                                <a href="detail.html"> <img src="../img/product3_2.jpg"
                                                                            alt="" class="img-responsive" /></a>
                                            </div>
                                        </div>
                                    </div>
                                    <a href="detail.html" class="invisible"> <img
                                            src="img/product3.jpg" alt="" class="img-responsive" /></a>
                                    <div class="text">
                                        <h3>Fur coat</h3>
                                        <p class="price">$143</p>

                                    </div>
                                </div>
                                <!-- /.product -->
                            </div>

                        </div>


                    </div>
                    <!-- /.col-md-9 -->
                    
                    <div class="col-md-3">
                        <h:panelGroup rendered="#{mBeanCartManagement.order.ordersDetail != null}">
                        <div class="box" id="order-summary">
                            <div class="box-header">
                                <h3>Order summary</h3>
                            </div>
                            <p class="text-muted">Shipping and additional costs are
                                calculated based on the values you have entered.</p>
                            <div class="table-responsive">
                                <table class="table" id="tabRecapOrder">
                                    <tbody>
                                        <tr>
                                            <td>prix articles</td>
                                            <th>#{mBeanCartManagement.calculSubTotal()}</th>
                                        </tr>
                                        <tr>
                                            <td>Frais de transport</td>
                                            <th>$10.00</th>
                                        </tr>
                                        <tr>
                                            <td>Tax</td>
                                            <th>$0.00</th>
                                        </tr>
                                        <tr class="total">
                                            <td>Total</td>
                                            <th>$456.00</th>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>                            
                        </div>
                        </h:panelGroup>
                        <h:panelGroup rendered="#{mBeanCartManagement.order.ordersDetail == null}">
                        <div class="box" id="order-summary">
                            <div class="box-header">
                                <h3>Order summary</h3>
                            </div>
                            <p class="text-muted">Shipping and additional costs are
                                calculated based on the values you have entered.</p>
                            <div class="table-responsive">
                                <table class="table" id="tabRecapOrder">
                                    <tbody>
                                        <tr>
                                            <td>prix articles</td>
                                            <th>0.00 €</th>
                                        </tr>
                                        <tr>
                                            <td>Frais de transport</td>
                                            <th>0.00 €</th>
                                        </tr>
                                        <tr>
                                            <td>Tax</td>
                                            <th>0.00 €</th>
                                        </tr>
                                        <tr class="total">
                                            <td>Total</td>
                                            <th>0.00 €</th>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>                            
                        </div>
                        </h:panelGroup>

                        <div class="box">
                            <div class="box-header">
                                <h4>Coupon code</h4>
                            </div>
                            <p class="text-muted">If you have a coupon code, please enter
                                it in the box below.</p>
                                <div class="input-group">

                                    <h:inputText value="" class="form-control" />
                                    <span class="input-group-btn">
                                        <button class="btn btn-primary" type="button">
                                            <i class="fa fa-gift"></i>
                                        </button>
                                    </span>
                                </div>
                                <!-- /input-group -->
                        </div>
                    </div>                   
                    <!-- /.col-md-3 -->
                </div>
                <!-- /.container -->
            </div>
        </form>
    </ui:define>
</ui:composition>


